{"ast":null,"code":"import React,{useState}from\"react\";import basestyle from\"./Base.module.css\";import registerstyle from\"./Register.module.css\";import{useNavigate,NavLink}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[formErrors,setFormErrors]=useState({});const[user,setUserDetails]=useState({name:'',email:\"\",password:\"\",about:''});const changeHandler=e=>{const{name,value}=e.target;setUserDetails({...user,[name]:value});};const validateForm=values=>{const error={};const regex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;if(!values.name){error.name=\"Name is required\";}if(!values.email){error.email=\"Email is required\";}else if(!regex.test(values.email)){error.email=\"This is not a valid email format!\";}if(!values.password){error.password=\"Password is required\";}else if(values.password.length<4){error.password=\"Password must be more than 4 characters\";}else if(values.password.length>10){error.password=\"Password cannot exceed more than 10 characters\";}if(!values.about){error.about=\"About is required\";}return error;};const signupHandler=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:9090/api/users/',{method:'POST',body:JSON.stringify(user),headers:{'Content-Type':'application/json'}});const json=await response.json();if(!response.ok){console.log(\"User already exists\");}else if(response.ok){console.log(\"Registration successful\");console.log(json);navigate('/login');// redirect to login page or another page\n}}catch(error){console.error(\"Error:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:registerstyle.register,children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:signupHandler,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create your account\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",placeholder:\"Name\",onChange:changeHandler,value:user.name}),/*#__PURE__*/_jsx(\"p\",{className:basestyle.error,children:formErrors.name}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",placeholder:\"Email\",onChange:changeHandler,value:user.email}),/*#__PURE__*/_jsx(\"p\",{className:basestyle.error,children:formErrors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Password\",onChange:changeHandler,value:user.password}),/*#__PURE__*/_jsx(\"p\",{className:basestyle.error,children:formErrors.password}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"about\",id:\"about\",placeholder:\"About\",onChange:changeHandler,value:user.about}),/*#__PURE__*/_jsx(\"p\",{className:basestyle.error,children:formErrors.about}),/*#__PURE__*/_jsx(\"button\",{className:basestyle.button_common,type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"Already registered? Login\"})]});};export default Register;","map":{"version":3,"names":["React","useState","basestyle","registerstyle","useNavigate","NavLink","jsx","_jsx","jsxs","_jsxs","Register","navigate","formErrors","setFormErrors","user","setUserDetails","name","email","password","about","changeHandler","e","value","target","validateForm","values","error","regex","test","length","signupHandler","preventDefault","response","fetch","method","body","JSON","stringify","headers","json","ok","console","log","className","register","children","onSubmit","type","id","placeholder","onChange","button_common","to"],"sources":["/workspaces/Krishak_Shayak/src/pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport basestyle from \"./Base.module.css\";\nimport registerstyle from \"./Register.module.css\";\nimport { useNavigate, NavLink } from \"react-router-dom\";\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const [formErrors, setFormErrors] = useState({});\n  const [user, setUserDetails] = useState({\n    name: '',\n    email: \"\",\n    password: \"\",\n    about: ''\n  });\n\n  const changeHandler = (e) => {\n    const { name, value } = e.target;\n    setUserDetails({\n      ...user,\n      [name]: value,\n    });\n  };\n\n  const validateForm = (values) => {\n    const error = {};\n    const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n    if (!values.name) {\n      error.name = \"Name is required\";\n    }\n    if (!values.email) {\n      error.email = \"Email is required\";\n    } else if (!regex.test(values.email)) {\n      error.email = \"This is not a valid email format!\";\n    }\n    if (!values.password) {\n      error.password = \"Password is required\";\n    } else if (values.password.length < 4) {\n      error.password = \"Password must be more than 4 characters\";\n    } else if (values.password.length > 10) {\n      error.password = \"Password cannot exceed more than 10 characters\";\n    }\n    if (!values.about) {\n      error.about = \"About is required\";\n    }\n    return error;\n  };\n\n  const signupHandler = async (e) => {\n    e.preventDefault();\n    \n\n      try {\n        const response = await fetch('http://localhost:9090/api/users/', {\n          method: 'POST',\n          body: JSON.stringify(user),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const json = await response.json();\n        if(!response.ok){\n          console.log(\"User already exists\");\n        }\n       else if (response.ok) {\n          console.log(\"Registration successful\");\n          console.log(json);\n          navigate('/login'); // redirect to login page or another page\n        } \n      } catch (error) {\n        console.error(\"Error:\", error);\n      }\n    \n  };\n\n  return (\n    <div className={registerstyle.register}>\n      <form onSubmit={signupHandler}>\n        <h1>Create your account</h1>\n        <input\n          type=\"text\"\n          name=\"name\"\n          id=\"name\"\n          placeholder=\"Name\"\n          onChange={changeHandler}\n          value={user.name}\n        />\n        <p className={basestyle.error}>{formErrors.name}</p>\n        <input\n          type=\"email\"\n          name=\"email\"\n          id=\"email\"\n          placeholder=\"Email\"\n          onChange={changeHandler}\n          value={user.email}\n        />\n        <p className={basestyle.error}>{formErrors.email}</p>\n        <input\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n          placeholder=\"Password\"\n          onChange={changeHandler}\n          value={user.password}\n        />\n        <p className={basestyle.error}>{formErrors.password}</p>\n        <input\n          type=\"text\"\n          name=\"about\"\n          id=\"about\"\n          placeholder=\"About\"\n          onChange={changeHandler}\n          value={user.about}\n        />\n        <p className={basestyle.error}>{formErrors.about}</p>\n        <button className={basestyle.button_common} type=\"submit\">\n          Register\n        </button>\n      </form>\n      <NavLink to=\"/login\">Already registered? Login</NavLink>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}